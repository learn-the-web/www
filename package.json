{
  "name": "learn-the-web",
  "private": true,
  "version": "1.26.0",
  "devDependencies": {
    "cssnano": "^3.7.3",
    "html-minifier": "^3.5.3",
    "npm-run-all": "^4.0.2",
    "onchange": "^5.2.0",
    "postcss-assets": "^4.1.0",
    "postcss-cli": "^2.5.2",
    "postcss-cssnext": "^2.7.0",
    "postcss-import": "^7.1.3",
    "uglify-js": "^2.7.0"
  },
  "config": {
    "js_common": "js-src/toggle-nav.js js-src/heading-jumps.js js-src/video-home.js js-src/details.js js-src/tabs.js js-src/markbot.js js-src/course.js js-src/week-times.js",
    "js_topics": "js-src/fuzzy-match.js js-src/topic-search.js js-src/topics-visited.js",
    "js_article": "vendor/prism.js js-src/syntax.js js-src/article-nav.js js-src/section-links.js js-src/video.js vendor/fetch.js",
    "js_course": "js-src/fullscreen.js js-src/week-times.js",
    "js_slide-deck": "vendor/prism.js js-src/syntax.js js-src/slide-deck.js js-src/prism-workarounds.js js-src/task-lists.js",
    "js_lesson": "vendor/prism.js js-src/swiper.js js-src/syntax.js js-src/lesson.js js-src/prism-workarounds.js js-src/task-lists.js",
    "js_assignment_viewer": "vendor/cookie.js vendor/fetch.js vendor/js-yaml.min.js vendor/marked.min.js js-src/assignment-viewer.js"
  },
  "scripts": {
    "start": "npm-run-all --parallel start-server watch-*",
    "start-server": "bundle exec jekyll serve --incremental --ssl-key=_certs/https-key.pem --ssl-cert=_certs/https-cert.pem",
    "minify-site": "html-minifier --file-ext=html --input-dir=_site --output-dir=_site --config-file=.html-minifier.json",
    "prepare-ics": "pipenv run python ./scripts/prepare-ics.py",
    "build-site": "bundle exec jekyll build && npm run minify-site && npm run prepare-ics",
    "postcss": "postcss --no-maps -u postcss-import -u postcss-cssnext --postcss-cssnext.browsers 'last 2 versions' -u postcss-assets -u cssnano --cssnano.safe",
    "build-css-main": "npm run postcss -- -o css/main.min.css css-src/main.css",
    "build-css-home": "npm run postcss -- -o css/main-home.min.css css-src/main-home.css",
    "build-css-topics": "npm run postcss -- -o css/main-topics.min.css css-src/main-topics.css",
    "build-css-article": "npm run postcss -- -o css/main-article.min.css css-src/main-article.css",
    "build-css-course": "npm run postcss -- -o css/main-course.min.css css-src/main-course.css",
    "build-css": "npm-run-all --parallel build-css-*",
    "watch-css": "onchange 'css-src/*.css' -- npm run build-css",
    "build-js-common": "uglifyjs $npm_package_config_js_common -c -m --lint -o js/common.min.js",
    "build-js-topics": "uglifyjs $npm_package_config_js_topics -c -m --lint -o js/topics.min.js",
    "build-js-article": "uglifyjs $npm_package_config_js_article -c -m --lint -o js/article.min.js",
    "build-js-course": "uglifyjs $npm_package_config_js_course -c -m --lint -o js/course.min.js",
    "build-js-slide-deck": "uglifyjs $npm_package_config_js_slide_deck -c -m --lint -o js/slide-deck.min.js",
    "build-js-lesson": "uglifyjs $npm_package_config_js_lesson -c -m --lint -o js/lesson.min.js",
    "build-js-assignment-viewer": "uglifyjs $npm_package_config_js_assignment_viewer -c -m --lint -o js/assignment-viewer.min.js",
    "build-js-font-source-code": "uglifyjs _includes/source-code-pro-observer.js -c -m --lint -o _includes/source-code-pro-observer.min.js",
    "build-js-font-alegreya": "uglifyjs _includes/alegreya-observer.js -c -m --lint -o _includes/alegreya-observer.min.js",
    "build-js": "npm-run-all --parallel build-js-*",
    "watch-js": "onchange 'js-src/*.js' -- npm run build-js",
    "build": "npm run build-css && npm run build-js && npm run build-site",
    "deploy-site": "rsync --recursive --checksum --delete --delete-excluded --verbose --compress --chmod=D2755,F644 --exclude-from=rsync-exclude.txt ./_site/ keycdn:learntheweb/",
    "deploy-solutions": "rsync --recursive --checksum --delete --delete-excluded --progress --compress --chmod=D2755,F644 --exclude-from=rsync-exclude.txt --chmod=u=rwX,go=rX ./_site/solutions/ thomasjbradley_acltwsolutions@nfsn:/home/protected/includes",
    "deploy": "npm run deploy-site && npm run deploy-solutions",
    "build-n-deploy": "npm run build && npm run deploy"
  }
}
